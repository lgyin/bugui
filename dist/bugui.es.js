var e=Object.defineProperty,t=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,n=(t,l,a)=>l in t?e(t,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[l]=a;import{defineComponent as o,ref as s,onMounted as u,onBeforeUnmount as r,openBlock as i,createBlock as d,Transition as c,withCtx as p,withDirectives as g,createElementVNode as v,vShow as b,computed as m,createElementBlock as h,normalizeClass as y,normalizeStyle as f,renderSlot as k,toDisplayString as w,toRefs as C,resolveComponent as B,Fragment as S,renderList as $,createVNode as x,withModifiers as V,watch as D,createCommentVNode as L,createTextVNode as T,createStaticVNode as E,h as M,createApp as P}from"vue";const{setTimeout:N,clearTimeout:I}=window;var O=o({name:"BugBacktop",props:{target:{type:String,default:""},right:{type:Number,default:100},bottom:{type:Number,default:100}},setup(e){const t=s(!1);let l=document,a=null;const n=e=>{a&&I(a),a=N((()=>{e.target===l&&(t.value=(l instanceof Document?document.scrollingElement.scrollTop:l.scrollTop)>=200,a=null)}),200)};return u((()=>{e.target&&null===document.querySelector(e.target)&&console.warn(`BugBacktop: Invalid target "${e.target}"`),l=e.target&&document.querySelector(e.target)||document,l.addEventListener("scroll",n)})),r((()=>{l.removeEventListener("scroll",n)})),{show:t,scrollToTop:()=>{(l instanceof Document?l.scrollingElement:l).scrollTo({top:0,behavior:"smooth"})}}}});function Y(e){return"number"==typeof e&&e==e}O.render=function(e,t,l,a,n,o){return i(),d(c,{name:"bug-backtop"},{default:p((()=>[g(v("span",{class:"bug-backtop",onClick:t[0]||(t[0]=(...t)=>e.scrollToTop&&e.scrollToTop(...t))},null,512),[[b,e.show]])])),_:1})};var A=o({name:"BugButton",props:{type:{type:String,default:"default"},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},width:{type:[Number,String]}},setup:(e,{emit:t})=>({btnStyle:m((()=>{const t={};return e.width&&(t.width=Y(e.width)?`${e.width}px`:e.width),t}))})});const R=["disabled"];A.render=function(e,t,l,a,n,o){return i(),h("button",{class:y(["bug-button",{"btn-default":"default"===e.type,"btn-primary":"primary"===e.type,"btn-danger":"danger"===e.type,"btn-plain":"plain"===e.type,loading:e.loading}]),disabled:e.disabled||e.loading,style:f(e.btnStyle)},[k(e.$slots,"default")],14,R)};var F=o({name:"BugCheckbox",props:{modelValue:{type:Boolean,default:!1},label:{type:String,default:""},disabled:{type:Boolean,default:!1},partial:{type:Boolean,default:!1},block:{type:Boolean,default:!1}},setup:(e,{emit:t})=>({onChange:e=>{t("update:modelValue",e.target.checked)}})});const _=["checked","disabled"],H=v("span",{class:"bug-checkbox-flag"},null,-1);F.render=function(e,t,l,a,n,o){return i(),h("label",{class:y(["bug-checkbox",{block:e.block,disabled:e.disabled}])},[v("input",{type:"checkbox",checked:e.modelValue,disabled:e.disabled,class:y({partial:e.partial}),onChange:t[0]||(t[0]=(...t)=>e.onChange&&e.onChange(...t))},null,42,_),H,g(v("span",{class:"bug-checkbox-label"},w(e.label),513),[[b,e.label]])],2)};var j,W,q=o({name:"BugCheckboxGroup",components:{BugCheckbox:F},props:{modelValue:{type:Array,default:[]},options:{type:Array,required:!0},disabled:{type:Boolean,default:!1},layout:{type:String,default:"h"},width:{type:[String,Number]}},setup(e){const{modelValue:t,options:l}=C(e);return{style:m((()=>{const t={};return e.width&&(t.width=Y(e.width)?`${e.width}px`:e.width),t})),isChecked:e=>t.value.includes(e),onChange:e=>{const a=l.value.filter((t=>t.label===e))[0].value,n=t.value.indexOf(a);n>=0?t.value.splice(n,1):t.value.push(a)}}}});function K(e){const t=e.split("-").map((e=>parseInt(e))),l=new Date(e);return 3===t.length&&t[0]===l.getFullYear()&&t[1]===l.getMonth()+1&&t[2]===l.getDate()?[t[0],t[1],t[2]]:[0,0,0]}q.render=function(e,t,l,a,n,o){const s=B("bug-checkbox");return i(),h("ul",{class:y(["bug-checkbox-group",{vertical:"v"===e.layout}]),style:f(e.style)},[(i(!0),h(S,null,$(e.options,((t,l)=>(i(),h("li",{key:l},[x(s,{modelValue:e.isChecked(t.value),label:t.label,disabled:e.disabled,onChange:l=>e.onChange(t.label)},null,8,["modelValue","label","disabled","onChange"])])))),128))],6)},(W=j||(j={}))[W.YearInterval=0]="YearInterval",W[W.Year=1]="Year",W[W.Month=2]="Month",W[W.Day=3]="Day";var z=o({name:"BugDate",props:{modelValue:{type:String,default:""},clearable:{type:Boolean,default:!0}},setup(e,{emit:t}){const{modelValue:l}=C(e),a=s(!1),n=s(0),o=s(2020),u=s(1),r=s(1);let i=s([]),d=s([]),c=s([]),p=s([]);const g=m((()=>{let e;switch(n.value){case 0:return e=100*Math.floor(o.value/100),`${e}-${e+99}`;case 1:return e=10*Math.floor(o.value/10),`${e}-${e+9}`;case 2:case 3:return`${o.value}年`}return""})),v=m((()=>3===n.value?`${u.value}月`:"")),b=m((()=>{if(!l)return 0;const[e,t,a]=K(l.value);return new Date(e,t-1,a).getTime()})),h=(e=0)=>{o.value+=100*e;const t=100*Math.floor(o.value/100),l=[{start:t-10,end:t-1,preview:!0}];for(let a=0;a<10;a++)l.push({start:t+10*a,end:t+10*a+9,preview:!1});l.push({start:t+100,end:t+109,preview:!0}),i.value=l},y=(e=0)=>{o.value+=10*e;const t=10*Math.floor(o.value/10),l=[{year:t-1,preview:!0}];for(let a=0;a<10;a++)l.push({year:t+a,preview:!1});l.push({year:t+10,preview:!0}),d.value=l},f=(e=0)=>{if(o.value+=e,0===c.value.length){const e=[];for(let t=1;t<=12;t++)e.push({month:t,label:`${t}月`});c.value=e}},k=(e=0,t=0)=>{o.value+=e,u.value+=t,u.value>12?u.value=u.value%12:u.value<1&&(u.value=u.value%12+12);const l=new Date(o.value,u.value-1,1),a=l.getDay(),n=l.getTime(),s=new Date(o.value,u.value,0),r=s.getDate(),i=s.getDay(),d=s.getTime(),c=new Date,g=new Date(c.getFullYear(),c.getMonth(),c.getDate()).getTime(),v=[];for(let o=0;o<a;o++){const e=new Date(l.getTime()-864e5*(a-o)),t=e.getTime();v.push({day:e.getDate(),preview:!0,today:t===g,selected:t===b.value})}for(let o=1;o<=r;o++){const e=n+864e5*(o-1);v.push({day:o,preview:!1,today:e===g,selected:e===b.value})}for(let o=i+1;o<=6;o++){const e=d+864e5*(o-i);v.push({day:o-i,preview:!0,today:e===g,selected:e===b.value})}p.value=v};return{PanelLevel:j,open:a,level:n,year:o,month:u,day:r,yearIntervalData:i,yearData:d,monthData:c,dayData:p,yearTitle:g,monthTitle:v,toggleOpen:()=>{if(a.value=!a.value,a.value){if(l.value)[o.value,u.value,r.value]=K(l.value);else{const e=new Date;o.value=e.getFullYear(),u.value=e.getMonth()+1,r.value=e.getDate()}n.value=3,k()}},clear:()=>{t("update:modelValue",""),t("change"),a.value=!1},stride:(e=0)=>{switch(n.value){case 0:h(e);break;case 1:y(e);break;case 2:f(e);break;case 3:k(e)}},step:(e=0)=>{3===n.value&&k(0,e)},onClickYearTitle:()=>{switch(n.value){case 1:n.value--,h();break;case 2:case 3:n.value=1,y()}},onClickMonthTitle:()=>{n.value=2,f()},onClickYearInterval:e=>{o.value=e,y(),n.value=1},onClickYear:e=>{o.value=e,f(),n.value=2},onClickMonth:e=>{u.value=e,k(),n.value=3},onClickDay:e=>{r.value=e,t("update:modelValue",`${o.value}-${u.value>9?u.value:"0"+u.value}-${r.value>9?r.value:"0"+r.value}`),t("change"),a.value=!1},onClickToday:()=>{const e=new Date,l=e.getFullYear(),n=e.getMonth()+1,o=e.getDate();t("change",`${l}-${n>9?n:"0"+n}-${o>9?o:"0"+o}`),a.value=!1}}}});const U={class:"bug-date-result"},G=["value"],J=v("span",{class:"date-icon"},[v("svg",{t:"1592813672025",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2216",width:"14",height:"14"},[v("path",{d:"M752.3 166.1V77.9h-50v88.2H321.7V77.9h-50v88.2H64v780h896v-780H752.3z m157.7 740H114v-690h157.7v101.8h50V216.1h380.5v101.8h50V216.1H910v690z",fill:"#707070","p-id":"2217"})])],-1),Q={class:"bug-date-header"},X={class:"bug-date-year-content"},Z=["onClick"],ee={class:"bug-date-year-content"},te=["onClick"],le={class:"bug-date-year-content"},ae=["onClick"],ne={class:"bug-date-day-content"},oe={class:"bug-date-day-wrapper"},se=v("ul",{class:"bug-date-week"},[v("li",null,"日"),v("li",null,"一"),v("li",null,"二"),v("li",null,"三"),v("li",null,"四"),v("li",null,"五"),v("li",null,"六")],-1),ue={class:"bug-date-days"},re=["onClick"],ie={class:"bug-date-day"};z.render=function(e,t,l,a,n,o){return i(),h("div",{class:y(["bug-date",{open:e.open}]),onClick:t[9]||(t[9]=(...t)=>e.toggleOpen&&e.toggleOpen(...t))},[v("div",U,[v("input",{type:"text",placeholder:"Date",value:e.modelValue,readonly:""},null,8,G),J,g(v("span",{class:"clear-btn",onClick:t[0]||(t[0]=V(((...t)=>e.clear&&e.clear(...t)),["stop"]))},null,512),[[b,e.clearable]])]),x(c,{name:"bug-date-panel"},{default:p((()=>[g(v("div",{class:y(["bug-date-panel",{show:e.open}]),onClick:t[8]||(t[8]=V((()=>{}),["stop"]))},[v("div",Q,[v("div",null,[v("span",{class:"bug-date-2prev",onClick:t[1]||(t[1]=t=>e.stride(-1))}),g(v("span",{class:"bug-date-prev",onClick:t[2]||(t[2]=t=>e.step(-1))},null,512),[[b,e.level===e.PanelLevel.Day]])]),v("div",null,[v("span",{class:y(["bug-date-title",{clickable:e.level!==e.PanelLevel.YearInterval}]),onClick:t[3]||(t[3]=(...t)=>e.onClickYearTitle&&e.onClickYearTitle(...t))},w(e.yearTitle),3),g(v("span",{class:"bug-date-title clickable",onClick:t[4]||(t[4]=(...t)=>e.onClickMonthTitle&&e.onClickMonthTitle(...t))},w(e.monthTitle),513),[[b,e.level===e.PanelLevel.Day]])]),v("div",null,[g(v("span",{class:"bug-date-next",onClick:t[5]||(t[5]=t=>e.step(1))},null,512),[[b,e.level===e.PanelLevel.Day]]),v("span",{class:"bug-date-2next",onClick:t[6]||(t[6]=t=>e.stride(1))})])]),g(v("ul",X,[(i(!0),h(S,null,$(e.yearIntervalData,(t=>(i(),h("li",{key:t.start,onClick:l=>e.onClickYearInterval(t.start)},[v("span",{class:y(["year-item",{preview:t.preview,selected:e.year>=t.start&&e.year<=t.end}])},w(t.start)+"-"+w(t.end),3)],8,Z)))),128))],512),[[b,e.level===e.PanelLevel.YearInterval]]),g(v("ul",ee,[(i(!0),h(S,null,$(e.yearData,((t,l)=>(i(),h("li",{key:l,onClick:l=>e.onClickYear(t.year)},[v("span",{class:y(["year-item",{preview:t.preview,selected:e.year===t.year}])},w(t.year),3)],8,te)))),128))],512),[[b,e.level===e.PanelLevel.Year]]),g(v("ul",le,[(i(!0),h(S,null,$(e.monthData,((t,l)=>(i(),h("li",{key:l,onClick:l=>e.onClickMonth(t.month)},[v("span",{class:y(["year-item",{selected:e.month===t.month}])},w(t.label),3)],8,ae)))),128))],512),[[b,e.level===e.PanelLevel.Month]]),g(v("div",ne,[v("div",oe,[se,v("ul",ue,[(i(!0),h(S,null,$(e.dayData,((t,l)=>(i(),h("li",{key:l,class:y(["bug-date-day-item",{preview:t.preview,"bug-date-today":t.today,selected:t.selected}]),onClick:l=>e.onClickDay(t.day)},[v("span",ie,w(t.day),1)],10,re)))),128))])]),v("div",{class:"bug-date-today-btn",onClick:t[7]||(t[7]=(...t)=>e.onClickToday&&e.onClickToday(...t))},"今天")],512),[[b,e.level===e.PanelLevel.Day]])],2),[[b,e.open]])])),_:1})],2)};var de=o({name:"BugPopover",props:{trigger:{type:String,default:"hover"},position:{type:String,default:"bottom-middle"},width:{type:[String,Number],default:""},padding:{type:Number,default:10},black:{type:Boolean,default:!1}},setup(e){const t=s(),l=s(!1),a=m((()=>{const[t,l]=e.position.split("-");return[`pos-${t}`,`${["top","bottom"].includes(t)?"h":"v"}-${l}`]})),n=m((()=>{const t={};return e.width&&(t.width=Y(e.width)?`${e.width}px`:e.width),void 0!==e.padding&&(t.padding=`${e.padding}px`),t})),o=()=>{l.value=!1};return u((()=>{"click"===e.trigger&&document.addEventListener("click",o)})),r((()=>{"click"===e.trigger&&document.removeEventListener("click",o)})),{show:l,target:t,popClass:a,popStyle:n,onClick:t=>{"click"===e.trigger&&(t.stopPropagation(),l.value=!l.value)},onMouseEnter:()=>{"hover"===e.trigger&&(l.value=!0)},onMouseLeave:()=>{"hover"===e.trigger&&(l.value=!1)}}}});de.render=function(e,t,l,a,n,o){return i(),h("div",{class:"bug-popover",onMouseenter:t[1]||(t[1]=(...t)=>e.onMouseEnter&&e.onMouseEnter(...t)),onMouseleave:t[2]||(t[2]=(...t)=>e.onMouseLeave&&e.onMouseLeave(...t))},[v("div",{ref:"target",class:"bug-popover-target",onClick:t[0]||(t[0]=(...t)=>e.onClick&&e.onClick(...t))},[k(e.$slots,"default")],512),x(c,{name:"bug-popover"},{default:p((()=>[g(v("div",{class:y(["bug-popover-pop",[e.popClass,e.black?"black":""]]),style:f(e.popStyle)},[k(e.$slots,"pop")],6),[[b,e.show]])])),_:3})],32)};var ce=o({name:"BugDropdown",components:{BugPopover:de},props:{position:{type:String,default:"bottom-middle"},trigger:{type:String,default:"hover"},width:{type:[String,Number],default:""}}});const pe={class:"bug-dropdown"};ce.render=function(e,t,l,a,n,o){const s=B("bug-popover");return i(),d(s,{position:e.position,trigger:e.trigger,width:e.width,padding:0},{pop:p((()=>[v("div",pe,[k(e.$slots,"dropdown")])])),default:p((()=>[k(e.$slots,"default")])),_:3},8,["position","trigger","width"])};var ge=o({name:"BugDropdownItem",props:{divide:{type:Boolean,default:!1}},setup:(e,{emit:t})=>({handleClick:()=>{t("click")}})});ge.render=function(e,t,l,a,n,o){return i(),h("div",{class:"bug-dropdown-item",onClick:t[0]||(t[0]=(...t)=>e.onClick&&e.onClick(...t))},[k(e.$slots,"default")])};var ve=o({name:"BugInput",props:{modelValue:{type:[String,Number],default:""},type:{type:String,default:"text"},placeholder:{type:String,default:""},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},trim:{type:Boolean,default:!1}},setup(e,{emit:t}){const{modelValue:l}=C(e),a=s(document.createElement("input"));D(l,((e,t)=>{a.value.value})),u((()=>{a.value.value=l.value}));return{input:a,oninput:()=>{if("number"===e.type){const e=[...`${a.value.value}`].map((e=>{const t=e.charCodeAt(0);return t>=65296&&t<=65305?""+(t-65296):t>=48&&t<=57||46===t?e:""})).join("");a.value.value=e,t("change",e)}else t("change",a.value.value)},onKeydown:e=>{"Enter"===e.key&&t("enter")},onFocus:e=>{t("focus",e)},onBlur:l=>{const n=a.value;!e.disabled&&/(^\s+|\s+$)/.test(`${n.value}`)&&(n.value=`${n.value}`.trim(),t("change",n.value)),t("blur",l)}}}});const be=["type","placeholder","disabled"];ve.render=function(e,t,l,a,n,o){return i(),h("div",{class:"bug-input",style:f({width:e.width||!1})},[v("input",{ref:"input",type:e.type,placeholder:e.placeholder,disabled:e.disabled,onInput:t[0]||(t[0]=(...t)=>e.oninput&&e.oninput(...t)),onKeydown:t[1]||(t[1]=(...t)=>e.onKeydown&&e.onKeydown(...t)),onFocus:t[2]||(t[2]=(...t)=>e.onFocus&&e.onFocus(...t)),onBlur:t[3]||(t[3]=(...t)=>e.onBlur&&e.onBlur(...t))},null,40,be)],4)};var me=o({name:"BugLoading",props:{tip:{type:String,default:""}},setup(){}});const he={class:"bug-loading"},ye=v("span",{class:"bug-loading-spin"},null,-1),fe={key:0,class:"bug-loading-tip"};me.render=function(e,t,l,a,n,o){return i(),h("div",he,[ye,e.tip?(i(),h("p",fe,w(e.tip),1)):L("",!0)])};var ke=o({name:"BugModal",props:{show:{type:Boolean,default:!1},title:{type:String,default:""},headless:{type:Boolean,default:!1},closable:{type:Boolean,default:!0},width:{type:[String,Number],default:""}},setup:(e,{emit:t})=>({style:m((()=>{const t={};return e.width&&(t.width=Y(e.width)?`${e.width}px`:e.width),t})),close:()=>{t("update:show",!1)},onShow:()=>{t("show"),document.body.style.overflow="hidden"},onHide:()=>{t("hide"),document.body.style.overflow=""}})});const we={key:0,class:"bug-modal-header"},Ce={class:"bug-modal-title"},Be={class:"bug-modal-content"};ke.render=function(e,t,l,a,n,o){return i(),d(c,{name:"fade",onEnter:e.onShow,onAfterLeave:e.onHide},{default:p((()=>[g(v("div",{class:"bug-modal",onClick:t[2]||(t[2]=(...t)=>e.close&&e.close(...t))},[x(c,{name:"move"},{default:p((()=>[g(v("div",{class:"bug-modal-box",style:f(e.style),onClick:t[1]||(t[1]=V((()=>{}),["stop"]))},[e.headless?L("",!0):(i(),h("div",we,[v("div",Ce,w(e.title),1),e.closable?(i(),h("span",{key:0,class:"bug-modal-close",onClick:t[0]||(t[0]=(...t)=>e.close&&e.close(...t))})):L("",!0)])),v("div",Be,[k(e.$slots,"default")])],4),[[b,e.show]])])),_:3})],512),[[b,e.show]])])),_:3},8,["onEnter","onAfterLeave"])};var Se=o({name:"BugPagination",props:{page:{type:Number,default:0},pages:{type:Number,default:0},total:{type:Number,default:0}},setup:(e,{emit:t})=>({enablePrev:m((()=>e.page>1)),enableNext:m((()=>e.page<e.pages)),leftPages:m((()=>{const t=[];if(e.page>=7)t.push(1,2,null,e.page-2,e.page-1);else for(let l=1;l<e.page;l++)t.push(l);return t})),rightPages:m((()=>{const t=[];if(e.page<=e.pages-6)t.push(e.page+1,e.page+2,null,e.pages-1,e.pages);else for(let l=e.page+1;l<=e.pages;l++)t.push(l);return t})),onPageClick:e=>{t("change",e)}})});const $e={class:"bug-pagination"},xe={key:0,class:"bug-pagination-total"},Ve=T(" Total "),De=["onClick"],Le={class:"bug-pagination-page current-page"},Te=["onClick"];Se.render=function(e,t,l,a,n,o){return i(),h("div",$e,[e.total>0?(i(),h("div",xe,[Ve,v("b",null,w(e.total),1)])):L("",!0),g(v("span",{class:"bug-pagination-prev",onClick:t[0]||(t[0]=t=>e.onPageClick(e.page-1))},"Previous",512),[[b,e.enablePrev]]),(i(!0),h(S,null,$(e.leftPages,((t,l)=>(i(),h("span",{key:l,class:y({"bug-pagination-page":null!==t,"bug-pagination-gap":null===t}),onClick:l=>null!==t&&t!==e.page&&e.onPageClick(t)},w(null===t?"...":t),11,De)))),128)),v("span",Le,w(e.page),1),(i(!0),h(S,null,$(e.rightPages,((t,l)=>(i(),h("span",{key:l,class:y({"bug-pagination-page":null!==t,"bug-pagination-gap":null===t}),onClick:l=>null!==t&&t!==e.page&&e.onPageClick(t)},w(null===t?"...":t),11,Te)))),128)),g(v("span",{class:"bug-pagination-next",onClick:t[1]||(t[1]=t=>e.onPageClick(e.page+1))},"Next",512),[[b,e.enableNext]])])};var Ee=o({name:"BugRadio",props:{modelValue:{type:Boolean,default:!1},name:{type:String,default:""},label:{type:String,default:""},disabled:{type:Boolean,default:!1}},setup:(e,{emit:t})=>({onChange:e=>{t("update:modelValue",e.target.checked)}})});const Me={class:"bug-radio"},Pe=["name","checked","disabled"],Ne=v("span",{class:"bug-radio-flag"},null,-1);Ee.render=function(e,t,l,a,n,o){return i(),h("label",Me,[v("input",{name:e.name,checked:e.modelValue,type:"radio",disabled:e.disabled,onChange:t[0]||(t[0]=(...t)=>e.onChange&&e.onChange(...t))},null,40,Pe),Ne,g(v("span",{class:"bug-radio-label"},w(e.label),513),[[b,e.label]])])};var Ie=o({name:"BugRadioGroup",components:{BugRadio:Ee},props:{modelValue:{type:[String,Number,Boolean],default:null},name:{type:String,default:""},options:{type:Array,default:[]},disabled:{type:Boolean,default:!1},layout:{type:String,default:"h"}},setup(e,{emit:t}){const l=s(e.name);u((()=>{""===l.value&&(l.value=`radio-${Math.random()}`)}));return{radioName:l,onRadioChange:(e,l)=>{l.target.checked&&t("update:modelValue",e)}}}});Ie.render=function(e,t,l,a,n,o){const s=B("bug-radio");return i(),h("ul",{class:y(["bug-radio-group",{vertical:"v"===e.layout}])},[(i(!0),h(S,null,$(e.options,((t,l)=>(i(),h("li",{key:l},[x(s,{name:e.radioName,label:t.label,disabled:e.disabled,value:e.modelValue===t.value,onChange:l=>e.onRadioChange(t.value,l)},null,8,["name","label","disabled","value","onChange"])])))),128))],2)};var Oe=o({name:"BugSelect",props:{modelValue:{type:[String,Number,Boolean,Array],default:null},options:{type:Array,required:!0},multiple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},placeholder:{type:String,default:""},position:{type:String,default:"down"}},setup(e,{emit:t}){const l=s(!1),a=m((()=>{const t={};return e.width&&(t.width=Y(e.width)?`${e.width}px`:e.width),t})),n=m((()=>{const t=[];for(let l=0;l<e.options.length;l+=1){const{value:a,label:n}=e.options[l];if(e.multiple)e.modelValue&&e.modelValue.includes(a)&&t.push(n);else if(e.modelValue===a){t.push(n);break}}return t.length?t.join(", "):e.placeholder}));return u((()=>{var l;e.multiple&&(l=e.modelValue,"[object Array]"!==Object.prototype.toString.call(l))&&t("update:modelValue",[])})),{open:l,selectStyle:a,selectedLabel:n,isSelected:t=>e.multiple?!!e.modelValue&&e.modelValue.includes(t):e.modelValue===t,onClick:()=>{e.disabled||(l.value=!l.value)},onSelect:l=>{if(e.multiple){const t=e.modelValue;if(t.includes(l)){const e=t.indexOf(l);t.splice(e,1)}else t.push(l)}else t("update:modelValue",l===e.modelValue?null:l);t("change")},clear:l=>{l.stopPropagation();const a=e.multiple?0===e.modelValue.length:null===e.modelValue;t("update:modelValue",e.multiple?[]:null),a||t("change")}}}});const Ye={class:"bug-select-result-content"},Ae=v("div",{class:"bug-select-menu-header"},null,-1),Re={class:"bug-select-menu-body"},Fe=["onClick"];Oe.render=function(e,t,l,a,n,o){return i(),h("div",{class:y(["bug-select",{open:e.open}]),style:f(e.selectStyle),onClick:t[1]||(t[1]=(...t)=>e.onClick&&e.onClick(...t))},[v("div",{class:y(["bug-select-result",{disabled:e.disabled}])},[v("span",Ye,w(e.selectedLabel),1),g(v("i",{class:"bug-select-clear",onClick:t[0]||(t[0]=(...t)=>e.clear&&e.clear(...t))},null,512),[[b,!e.disabled]])],2),g(v("div",{class:y(["bug-select-menu",{above:"up"===e.position,below:"down"===e.position}])},[Ae,v("ul",Re,[(i(!0),h(S,null,$(e.options,(t=>(i(),h("li",{key:t.value,value:"option.value",class:y(["bug-select-menu-item",{selected:e.isSelected(t.value)}]),onClick:l=>e.onSelect(t.value)},w(t.label),11,Fe)))),128))])],2),[[b,e.open]])],6)};var _e=o({name:"BugSkeleton",props:{layout:{type:String,default:"paragraph"}}});const He={class:"bug-skeleton bug-skeleton-loading"},je={key:0,class:"bug-skeleton-paragraph"},We=[E('<h3 class="bug-skeleton-paragraph-title bug-skeleton-loading"></h3><ul class="bug-skeleton-paragraph-detail"><li class="bug-skeleton-loading"></li><li class="bug-skeleton-loading"></li><li class="bug-skeleton-loading"></li></ul>',2)],qe={key:1,class:"bug-skeleton-table"};_e.render=function(e,t,l,a,n,o){return i(),h("div",He,["paragraph"===e.layout?(i(),h("div",je,We)):L("",!0),"table"===e.layout?(i(),h("div",qe,[(i(),h(S,null,$(15,(e=>v("div",{key:e,class:"bug-skeleton-loading"}))),64))])):L("",!0)])};var Ke=o({name:"BugTable",props:{list:{type:Array,default:[]},sort:{type:Array,default:[]}},render(){const e=[],o=[];this.$slots.default&&this.$slots.default().filter((e=>"BugTableColumn"===e.type.name)).forEach((s=>{const u=s.props,r=null==u?void 0:u.prop,i=[(null==u?void 0:u.label)||(d=r,"string"==typeof d&&/^[a-z]/.test(d)?d.slice(0,1).toUpperCase()+d.slice(1):d)||""];var d;let c=!1;for(let e=0;e<this.sort.length;e++){const t=this.sort[e];if(t.prop===r){i.push(M("span",{class:["bug-table-order-by","asc"===t.order?"order-by-asc":"","desc"===t.order?"order-by-desc":""]})),c=!0;break}}const p={};c&&(p.onClick=()=>{console.log(1);for(let e=0;e<this.sort.length;e++){const t=this.sort[e];if(t.prop===r){"asc"===t.order?t.order="desc":"desc"===t.order?t.order="":t.order="asc",this.sort.splice(e,1,t),this.$emit("resort",r,t.order);break}}}),e.push(M("th",((e,o)=>{for(var s in o||(o={}))l.call(o,s)&&n(e,s,o[s]);if(t)for(var s of t(o))a.call(o,s)&&n(e,s,o[s]);return e})({class:["bug-table-th",c?"sortable":""],style:{width:(null==u?void 0:u.width)?u.width:""}},p),i)),s.children&&s.children.default?o.push(s.children.default):r?o.push(r):o.push("")}));const s=this.list.map((e=>{const t=o.map((t=>M("td",{class:"bug-table-td"},"string"==typeof t?`${e[t]}`:[t(e)])));return M("tr",{class:"bug-table-row"},t)})),u=M("table",[M("thead",e),M("tbody",s)]);return M("div",{class:["bug-table"]},[u])}}),ze=o({name:"BugTableColumn",props:{label:{type:String,default:""},prop:{type:String,default:""},width:{type:[String,Number],default:""}}});const Ue={class:"bug-table-column"};ze.render=function(e,t,l,a,n,o){return i(),h("div",Ue,[k(e.$slots,"default")])};var Ge=o({name:"BugTextarea",props:{modelValue:{type:String,default:""},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""}},setup(e,{emit:t}){const{modelValue:l}=C(e),a=s(document.createElement("textarea"));D(l,((e,t)=>{const l=a.value;l.value!==e&&(l.value=e)})),u((()=>{a.value.value=l.value}));return{text:a,onInput:()=>{t("update:modelValue",a.value.value)}}}});const Je=["placeholder","disabled"];Ge.render=function(e,t,l,a,n,o){return i(),h("textarea",{ref:"text",class:"bug-textarea",placeholder:e.placeholder,disabled:e.disabled,onInput:t[0]||(t[0]=(...t)=>e.onInput&&e.onInput(...t))},null,40,Je)};var Qe=o({name:"BugFormItem",props:{layout:{type:String,default:"v"},label:{type:String,default:""},labelWidth:{type:[String,Number],default:100},block:{type:Boolean,default:!0}}});const Xe={class:"text-label"},Ze={class:"slot-label"},et={class:"bug-form-item-body"};Qe.render=function(e,t,l,a,n,o){return i(),h("div",{class:y(["bug-form-item",{horizontal:"h"===e.layout,vertical:"v"===e.layout,block:e.block}])},[v("div",{class:"bug-form-item-label",style:f({width:"h"===e.layout?"string"==typeof e.labelWidth?e.labelWidth:`${e.labelWidth}px`:"auto"})},[v("span",Xe,w(e.label),1),v("div",Ze,[k(e.$slots,"label")])],4),v("div",et,[k(e.$slots,"default")])],2)};var tt=o({name:"BugTooltip",components:{BugPopover:de},props:{position:{type:String,default:"bottom-middle"}}});const lt={class:"bug-tooltip"};var at,nt;tt.render=function(e,t,l,a,n,o){const s=B("bug-popover");return i(),d(s,{width:"auto",black:!0,padding:5},{pop:p((()=>[v("div",lt,[k(e.$slots,"tooltip")])])),default:p((()=>[k(e.$slots,"default")])),_:3})},(nt=at||(at={}))[nt.INFO=0]="INFO",nt[nt.WARN=1]="WARN",nt[nt.ERROR=2]="ERROR",nt[nt.SUCCESS=3]="SUCCESS";let ot;function st(){ot=document.createElement("div"),document.body.appendChild(ot)}document.body?st():document.addEventListener("DOMContentLoaded",(()=>{st()}));const ut=[];function rt(e){const t=document.createElement("div");t.className="bug-message";let l="info";switch(e.type){case 0:l="info";break;case 1:l="warn";break;case 2:l="error";break;case 3:l="success";break;default:throw new Error("Invalid message type")}t.classList.add(l);const a=ut.reduce(((e,t)=>e+t.height+20),0)+20;t.style.top=`${a}px`,ot.appendChild(t);const n=document.createElement("span");n.className="bug-message-flag",t.appendChild(n);const o=document.createElement("p");o.className="bug-message-content",t.appendChild(o),e.html?o.innerHTML=e.text:o.innerText=e.text;const s=`bug-msg-${Math.random()}`,u={id:s,option:e,elem:t,height:t.clientHeight};ut.push(u);const r=()=>{t.removeEventListener("transitionend",r),t.classList.remove("bug-message-enter-active"),t.classList.remove("bug-message-enter-from"),t.classList.remove("bug-message-enter-to"),t.classList.add("bug-message-leave-from"),setTimeout((()=>{t.classList.remove("bug-message-leave-from"),t.classList.add("bug-message-leave-active"),t.classList.add("bug-message-leave-to"),t.addEventListener("transitionend",(()=>{t.remove();const e=ut.findIndex((e=>e.id===s));ut.splice(e,1)}))}),2e3)};t.classList.add("bug-message-enter-from"),requestAnimationFrame((()=>{t.classList.add("bug-message-enter-active"),t.classList.add("bug-message-enter-to")})),t.addEventListener("transitionend",r)}const it={info:function(e,t=!1){rt({type:0,text:e,html:t})},warn:function(e,t=!1){rt({type:1,text:e,html:t})},error:function(e,t=!1){rt({type:2,text:e,html:t})},success:function(e,t=!1){rt({type:3,text:e,html:t})}};var dt=o({name:"BugConfirm",components:{BugModal:ke,BugButton:A},data:()=>({show:!1,title:"",onclick:()=>{}}),methods:{handleConfirm(){this.show=!1,this.onclick()}}});const ct={class:"bug-confirm"},pt={class:"bug-confirm-title"},gt={class:"tr"},vt=T("Cancel"),bt=T("OK");let mt;function ht(){const e=document.createElement("div");document.body.appendChild(e),mt=P(dt),mt.mount(e)}function yt(e){const t=mt._instance.data;return t.show=!0,t.title=e,new Promise((e=>{t.onclick=e}))}dt.render=function(e,t,l,a,n,o){const s=B("bug-button"),u=B("bug-modal");return i(),h("div",ct,[x(u,{show:e.show,"onUpdate:show":t[1]||(t[1]=t=>e.show=t),headless:!0,width:300},{default:p((()=>[v("p",pt,w(e.title),1),v("div",gt,[x(s,{class:"mr10",onClick:t[0]||(t[0]=t=>e.show=!1)},{default:p((()=>[vt])),_:1}),x(s,{type:"primary",onClick:e.handleConfirm},{default:p((()=>[bt])),_:1},8,["onClick"])])])),_:1},8,["show"])])},document.body?ht():document.addEventListener("DOMContentLoaded",(()=>{ht()}));const ft=[O,A,F,q,z,ce,ge,ve,me,ke,Se,de,Ee,Ie,Oe,_e,Ke,ze,Ge,Qe,tt];var kt={install(e){ft.forEach((t=>{e.component(t.name,t)}))}};export{yt as BugConfirm,it as BugMessage,kt as default};
//# sourceMappingURL=bugui.es.js.map
